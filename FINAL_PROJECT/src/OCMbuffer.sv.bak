module OCMbuffer(
    input Clk_w, Clk_r,Reset,
    input logic [7:0] ipixel,
    input logic [7:0] x_w,x_r,
    input logic [7:0] y_w,y_r,
    output logic [7:0] opixel
);

logic [7:0] buffer[0:28*28-1];
logic [9:0] writeAddress, readAddress;

alway_comb begin
    writeAddress = x_w + y_w* 5'd28;
    readAddress = x_r + y_r* 5'd28;
end

alway_ff @(posedge Clk_w) begin
    buffer[writeAddress] <= ipixel;
end

alway_ff @(posedge Clk_r) begin
    opixel <= buffer[readAddress];
end
endmodule