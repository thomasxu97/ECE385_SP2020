// Take in a 10*10 grey scale image 
// resize it to 1*1 black/white bilevel pixel
module AvgResizer #(XSTART = 0, XEND = 9, thed = 127)(
    input logic Clk, Reset,
    input logic [7:0] x_cont, y_cont,
    input logic [7:0] ipixel,
    output logic opixel,
    output logic oflag
);
logic [7:0] pxl_counter;
logic [7:0] counter;
alway_ff @(posedge Clk) begin
    if (Reset) 
        pxl_counter <= 0;
    else if (x_cont >= XSTART && x_cont <= XEND) begin
        pxl_counter <= pxl_counter + 1'd1;
        if (ipixel >= thed) 
            counter <= counter + 1'd1;
    end
end

assign oflag = (pxl_counter == 99) ? 1:0;
assign opixel = (counter >= 50) ? 1:0;
endmodule